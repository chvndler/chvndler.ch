/*!
 * PhysicsPropsPlugin 3.7.1
 * https://greensock.com
 *
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports)
    : 'function' == typeof define && define.amd
    ? define(['exports'], t)
    : t(((e = e || self).window = e.window || {}))
})(this, function (e) {
  'use strict'
  function g() {
    return t || ('undefined' != typeof window && (t = window.gsap) && t.registerPlugin && t)
  }
  function h(e) {
    return Math.round(1e4 * e) / 1e4
  }
  function i(e) {
    ;(t = e || g()), u || ((p = t.utils.getUnit), (u = 1))
  }
  function j(e, t, i, s, n, r) {
    var o = e._gsap,
      f = o.get(e, t)
    ;(this.p = t),
      (this.set = o.set(e, t)),
      (this.s = this.val = parseFloat(f)),
      (this.u = p(f) || 0),
      (this.vel = i || 0),
      (this.v = this.vel / r),
      s || 0 === s ? ((this.acc = s), (this.a = this.acc / (r * r))) : (this.acc = this.a = 0),
      (this.fr = 1 - (n || 0))
  }
  var t,
    u,
    p,
    s = {
      version: '3.7.1',
      name: 'physicsProps',
      register: i,
      init: function init(e, t, s) {
        u || i()
        var n,
          r = this
        for (n in ((r.target = e), (r.tween = s), (r.step = 0), (r.sps = 30), (r.vProps = []), t)) {
          var o = t[n],
            f = o.velocity,
            p = o.acceleration,
            a = o.friction
          ;(f || p) &&
            (r.vProps.push(new j(e, n, f, p, a, r.sps)), r._props.push(n), a && (r.hasFr = 1))
        }
      },
      render: function render(e, t) {
        var i,
          s,
          n,
          r,
          o,
          f = t.vProps,
          p = t.tween,
          a = t.target,
          u = t.step,
          l = t.hasFr,
          c = t.sps,
          v = f.length,
          d = p._from ? p._dur - p._time : p._time
        if (l) {
          if ((s = (0 | (d *= c)) - u) < 0) {
            for (; v--; ) ((i = f[v]).v = i.vel / c), (i.val = i.s)
            ;(v = f.length), (t.step = u = 0), (s = 0 | d)
          }
          for (n = d % 1; v--; ) {
            for (i = f[v], r = s; r--; ) (i.v += i.a), (i.v *= i.fr), (i.val += i.v)
            i.set(a, i.p, h(i.val + i.v * n * i.fr) + i.u)
          }
          t.step += s
        } else
          for (o = d * d * 0.5; v--; ) (i = f[v]).set(a, i.p, h(i.s + i.vel * d + i.acc * o) + i.u)
      },
      kill: function kill(e) {
        for (var t = this.vProps, i = t.length; i--; ) t[i].p === e && t.splice(i, 1)
      },
    }
  g() && t.registerPlugin(s), (e.PhysicsPropsPlugin = s), (e.default = s)
  if (typeof window === 'undefined' || window !== e) {
    Object.defineProperty(e, '__esModule', {value: !0})
  } else {
    delete e.default
  }
})
