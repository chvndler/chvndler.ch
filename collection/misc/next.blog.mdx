---
type: Articles
title: Building a Blog with Next.js
description: A tutorial on how to build a markdown blog using Next.js with TypeScript.
date: '2023-06-05'
image: '/static/img/projects/kit.jpg'
---

## Introduction:

I always seemed to struggle when starting to build a blog using Next.js and TypeScript, more specifically with the idea of integrating Markdown files with JSX. It can be confusing and error-prone. Therefore, I decided to document my process of completing this task, not only for myself, but also to help others who may face similar challenges along the way.

Next.js is a popular React framework that enables developers to build fast and scalable web applications. In this tutorial, we will guide you through the process of building a markdown blog using Next.js with TypeScript. Markdown is a lightweight markup language that allows you to write formatted text using a simple syntax. By combining Next.js with markdown, we can create a powerful and flexible blogging platform. Let's get started!

## Prerequisites:

Before we begin, make sure you have Node.js and npm (Node Package Manager) installed on your machine. You can download them from the official Node.js website [node.js](https://nodejs.org).
Additionally, a basic understanding of React, TypeScript, and JavaScript will be helpful.

### Step 1: Setting Up a New Next.js Project

First, let's create a new Next.js project with TypeScript. Open your terminal and run the following command:

```
npx create-next-app --typescript my-blog
```

This command will set up a new Next.js project with TypeScript in a folder named "my-blog." Once the installation is complete, navigate into the project directory:

```
cd my-blog
```

### Step 2: Adding Markdown Support

Next, we need to add markdown support to our Next.js project. We will use the `remark` and `remark-html` libraries for this purpose. In your project directory, install these dependencies by running:

```
npm install remark remark-html
```

### Step 3: Creating the Blog Posts

Now, let's create a folder named "posts" in the root directory of our project. Inside this folder, you can create your blog posts using markdown files.
For example, create a file named "my-first-post.md" and add some content to it:

```
# My First Blog Post

This is the content of my first blog post written in markdown.
```

You can create multiple markdown files in the "posts" folder to represent different blog posts.

Step 4: Fetching Blog Post Data

To fetch the blog post data, create a new file called "getPosts.ts" in the root directory of your project. In this file, add the following code:

```typescript
import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';

interface Post {
  slug: string;
  title: string;
  content: string;
}

export function getPosts(): Post[] {
  const postsDirectory = path.join(process.cwd(), 'posts');
  const filenames = fs.readdirSync(postsDirectory);

  const posts = filenames.map((filename) => {
    const filePath = path.join(postsDirectory, filename);
    const fileContents = fs.readFileSync(filePath, 'utf8');
    const { data, content } = matter(fileContents);

    return {
      slug: filename.replace('.md', ''),
      title: data.title,
      content,
    };
  });

  return posts;
}
```

This code uses the `fs` and `path` modules to read the markdown files and extract the necessary information using the `gray-matter` library.
The `getPosts` function returns an array of blog post objects, including the slug, title, and content.

Step 5: Displaying the Blog Posts

Open the "pages/index.tsx" file in your project and replace its content with the following code:

```tsx
import { GetStaticProps, NextPage } from 'next';
import { getPosts, Post } from '../getPosts';

interface HomeProps {
  posts: Post[];
}

const Home: NextPage<HomeProps> = ({ posts }) => {
  return (
    <div>
      <h1>My Blog</h1>
      <ul>
        {posts.map((post) => (
          <li key={post.slug}>
            <h2>{post.title}</h2>
            <div dangerouslySetInnerHTML={{ __html: post.content }} />
          </li>
        ))}
      </ul>
    </div>
  );
};

export const getStaticProps: GetStaticProps<HomeProps> = async () => {
  const posts = getPosts();

  return {
    props: {
      posts,
    },
  };
};

export default Home;
```

This code adds type definitions to the components and functions using TypeScript. The `Home` component receives the `posts` data as props and displays them on the page.
The `getStaticProps` function fetches the blog post data during the build process and passes it to the `Home` component.

Common Errors and Troubleshooting:

1. **Module not found error:** Make sure you have installed the required dependencies (`remark` and `remark-html`) correctly. Double-check the package.json file to ensure they are listed as dependencies.
2. **File or directory not found:** Ensure that the "posts" folder exists in the root directory of your project and contains the markdown files with the correct file extension (`.md`).
3. **TypeScript errors:** Check for any TypeScript errors in your code and make sure you have properly imported and used the required types and interfaces.

Conclusion:

In this tutorial, we covered the process of building a markdown blog using Next.js with TypeScript.
We explored setting up a new Next.js project, adding markdown support, creating blog posts, fetching the post data, and displaying the blog posts on a page.
With this knowledge, you can further enhance your blog by adding features like dynamic routing, pagination, and styling.
Next.js provides a powerful foundation for building robust and scalable blogs. Happy blogging!
